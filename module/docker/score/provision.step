#!/usr/bin/env bash
blackbox.module.docker.score.provision() {
  typeset -a args=("$@")

  blackbox.trace.entrypoint privision.step "${FUNCNAME[0]}" "$*" "$(printf "BLACKBOX_PROVISION_WITH_OPTS=%s" "$BLACKBOX_PROVISION_WITH_OPTS")"

  if ( ! blackbox.flag.enabled STEP_PROVISION ); then
    printf "\n"
    printf "skip: BLACKBOX_FLAG__STEP_PROVISION=no\n"

    return
  fi

  if [ -n "$BLACKBOX_PROVISION_WITH_OPTS" ]; then
    printf "\n"
    printf "BLACKBOX_PROVISION_WITH_OPTS=%s\n" "$BLACKBOX_PROVISION_WITH_OPTS"
    eval "$BLACKBOX_PROVISION_WITH_OPTS"
    printf "\n"
    blackbox.environment.load
  fi
}; blackbox.module.docker.score.provision "$@"
